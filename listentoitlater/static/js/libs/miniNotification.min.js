// 2012-06-29T22:04:04-07:00
// https://github.com/miniJs/miniNotification/commit/c534016a154bd72965eb79afa0a8baacea057275
(function(){$(function(){return $.miniNotification=function(a,b){var c,d,e,f,g,h,i=this;return this.defaults={position:"top",show:!0,effect:"slide",opacity:.95,time:4e3,showSpeed:600,hideSpeed:450,showEasing:"",hideEasing:"",innerDivClass:"inner",closeButton:!1,closeButtonText:"close",closeButtonClass:"close",hideOnClick:!0,onLoad:function(){},onVisible:function(){},onHide:function(){},onHidden:function(){}},g="",this.settings={},this.$element=$(a),f=function(a){return g=a},d=function(){var a,b;return b=i.getSetting("effect")==="slide"?0-i.$element.outerHeight():0,a={},i.getSetting("position")==="bottom"?a.bottom=b:a.top=b,i.getSetting("effect")==="fade"&&(a.opacity=0),a},e=function(){var a;return a={opacity:i.getSetting("opacity")},i.getSetting("position")==="bottom"?a.bottom=0:a.top=0,a},h=function(){return i.$elementInner=$("<div />",{"class":i.getSetting("innerDivClass")}),i.$element.wrapInner(i.$elementInner)},c=function(){var a;return a=$("<a />",{"class":i.getSetting("closeButtonClass"),html:i.getSetting("closeButtonText")}),i.$element.children().append(a),a.bind("click",function(){return i.hide()})},this.getState=function(){return g},this.getSetting=function(a){return this.settings[a]},this.callSettingFunction=function(b){return this.settings[b](a)},this.init=function(){var a=this;f("hidden"),this.settings=$.extend({},this.defaults,b);if(this.$element.length){h(),this.getSetting("closeButton")&&c(),this.$element.css(d()).css({display:"inline"}),this.getSetting("show")&&this.show();if(this.getSetting("hideOnClick"))return this.$element.bind("click",function(){if(a.getState()!=="hiding")return a.hide()})}},this.show=function(){var a=this;if(this.getState()!=="showing"&&this.getState()!=="visible")return f("showing"),this.callSettingFunction("onLoad"),this.$element.animate(e(),this.getSetting("showSpeed"),this.getSetting("showEasing"),function(){return f("visible"),a.callSettingFunction("onVisible"),setTimeout(function(){return a.hide()},a.settings.time)})},this.hide=function(){var a=this;if(this.getState()!=="hiding"&&this.getState()!=="hidden")return f("hiding"),this.callSettingFunction("onHide"),this.$element.animate(d(),this.getSetting("hideSpeed"),this.getSetting("hideEasing"),function(){return f("hidden"),a.callSettingFunction("onHidden")})},this.init(),this},$.fn.miniNotification=function(a){return this.each(function(){var b;return b=$(this).data("miniNotification"),b===void 0?(b=new $.miniNotification(this,a),$(this).data("miniNotification",b)):b.show()})}})}).call(this);